# Проект: Список дел
В этом приложении будет кнопка, которая показывает количество нажатий на себя.

Мы увидим, как компоненты React могут иметь свое внутреннее состояние и обновлять его.
___
Создадим проект `click-counter` (см. [инструкцию по созданию заготовки проекта](new-project.md))


---

Начнем обучение с небольшого проекта, который будет содержать поле для ввода дел и список этих самых дел

![todo](images/todo.png)

Основной сущностью в Реакте является **компонент**. Давай посмотрим, на какие компоненты можно разделить наше приложение:

- Строка ввода нового дела
  - Поле для ввода нового дела
  - Кнопка добавления
- Элемент списка дел, который состоит из
  - текста
  - кнопки удаления

Вот это как бы и получится "дерево" компонентов. Элементов списка дел может быть сколько угодно, поэтому для нас удобно иметь такой компонент, который мы можем переиспользовать сколько угодно раз

## Компонент: Строка ввода нового дела

Внутри папки `todo` создадим файл первого компонента (правая кнопка -> New File), назовем его `field.jsx`

### Импорт и экспорт

Если мы хотим использовать этот компонент в каком-то другом файле, его надо экспортировать, приписав в начале определения ключевое слово `export`:

    export function Field(props) {
      return <p>Hello, World!</p>
    }

Теперь эту функцию можно использовать в других местах


Теперь давай добавим наш компонент `Field` в `App`:

    <div className="App">
      <Field/>
    </div>

Упс! `Field` подсветился красной линией, а в консоли появилась ошибка:

    Failed to compile.
    
    ./src/App.jsx
      Line 9:8:  'Field' is not defined  react/jsx-no-undef

Главная ошибка новичка состоит в том, что они **не читают сообщения об ошибках**, а сразу начинают паниковать. Однако в 80% случаев в сообщении об ошибке есть ясная информация о том, что пошло не так. В данном случае у нас ошибка в файле `./src/App.jsx` на 9й строке и 8м символе. Сборщик не знает, что такое Field. Нужно импортировать `Field` из `field.jsx`.

Добавим эту строку вверх к остальным импортам:

    import { Field } from "./todo/field";

Опять ошибка! **'React' must be in scope when using JSX**, уже в `field.jsx`

За загадочным описанием кроется всего лишь то, что нам надо импортировать библиотеку Реакта[^jsx-react-scope]. Импортируем его в `field.jsx` самой первой строчкой:

    import React from "react";

    export function Field() {
      return <p>Hello, World!</p>
    }

**Compiled successfully!** Ура! Смотрим в браузер


## События

Теперь, когда мы научились пользоваться useState, применим его для хранения текстовых данных.

Для ввода текстовых данных есть тег `<input>`, у которого есть свойство `value` для текста и  `onChange` для обработки *изменений*, сродни `onClick` для нажатий. Следовательно, наш компонент будет выглядеть как-то так:

    import React, { useState } from "react";

    export function Field() {
      const [text, setText] = useState("");

      function onChange() {
        // ???
      }

      return <input value={text} onChange={onChange} />;
    }

Обрати внимание на `useState`: теперь изначальное значение — пустая строка.

Осталось понять, что делать в `onChange`. Внутри должен вызываться `setText`, но как получить новое значение текста? Когда ты редактируешь текст в инпуте, инпут создает так называемое `событие`. Есть много разных событий, (`click`, `change` — самые частоиспользуемые). onChange получает события изменения. Как же достать новый текст из события изменения? В дальнейшем мы научимся смотреть то, какие данные у нас передаются, но пока просто запомним, что новое значение хранится в `e.target.value`, где `e` — объект события:
 
    function onChange(e) {
      setText(e.target.value);
    }

Вуаля! Теперь мы можем редактировать значение поля ввода! Мы это и раньше могли бы делать, но теперь мы храним его в нашем `useState`

[^jsx-react-scope]: При сборке приложения весь JSX синтаксис "компилируется" в обычный JS, которому нужен React, поэтому нам надо его импортировать, несмотря на то, что явно мы его не используем
